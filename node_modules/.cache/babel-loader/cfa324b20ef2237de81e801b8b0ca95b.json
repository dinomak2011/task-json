{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport _ from 'lodash';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\nimport situationsList from '../json/situationsList.json';\nimport situation13 from '../json/situation-13.json';\nimport situation14 from '../json/situation-14.json';\nimport situation8 from '../json/situation-8.json';\nexport default {\n  data: function data() {\n    return {\n      situations: situationsList.items,\n      selected: '',\n      selectedSituation: '',\n      showedSituation: '',\n      situation13: situation13,\n      situation14: situation14,\n      situation8: situation8,\n      myDate: new Date().toISOString(),\n      currentMode: true,\n      fields: ['№', {\n        key: '',\n        label: '№'\n      }, {\n        key: 'factorName',\n        label: 'Наименование'\n      }, {\n        key: 'indicatorName',\n        label: 'Значение'\n      }, {\n        key: 'indicatorWeight',\n        label: 'Оценка тяжести'\n      }]\n    };\n  },\n  methods: {\n    selectSituation: function selectSituation() {\n      var _this = this;\n\n      this.situations.forEach(function (element) {\n        if (element.value === _this.selected) {\n          switch (_this.selected) {\n            case 8:\n              _this.showedSituation = situation8;\n              break;\n\n            case 13:\n              _this.showedSituation = situation13;\n              break;\n\n            case 14:\n              _this.showedSituation = situation14;\n              break;\n          }\n        }\n      });\n    },\n    toggle: function toggle() {\n      this.currentMode = !this.currentMode;\n    },\n    sortedUniq: function sortedUniq() {\n      this.showedSituation.consequencesIndicators = _.sortedUniq(this.showedSituation.consequencesIndicators);\n    }\n  },\n  computed: {}\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,MADA,kBACA;AACA;AACAC,sCADA;AAEAC,kBAFA;AAGAC,2BAHA;AAIAC,yBAJA;AAKAC,8BALA;AAMAC,8BANA;AAOAC,4BAPA;AAQAC,sCARA;AASAC,uBATA;AAUAC,eACA,GADA,EAEA;AACAC,eADA;AAEAC;AAFA,OAFA,EAMA;AACAD,yBADA;AAEAC;AAFA,OANA,EAUA;AACAD,4BADA;AAEAC;AAFA,OAVA,EAcA;AACAD,8BADA;AAEAC;AAFA,OAdA;AAVA;AA8BA,GAhCA;AAiCAC;AACAC,mBADA,6BACA;AAAA;;AACA,iDACA;AACA,8CACA;AACA;AAEA;AAAA;AACA;;AACA;AAAA;AACA;;AACA;AAAA;AACA;AAPA;AASA;AACA,OAdA;AAgBA,KAlBA;AAmBAC,UAnBA,oBAmBA;AACA;AACA,KArBA;AAsBAC,cAtBA,wBAsBA;AACA;AACA;AAxBA,GAjCA;AA2DAC;AA3DA","names":["data","situations","selected","selectedSituation","showedSituation","situation13","situation14","situation8","myDate","currentMode","fields","key","label","methods","selectSituation","toggle","sortedUniq","computed"],"sourceRoot":"src/pages","sources":["MainPage.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <b-container class=\"\">\r\n      <b-row align-v=\"center\" class=\"\">\r\n        <b-col class=\"ps-0 pe-0\">\r\n          <p class=\"fs-2 fw-bold\">Ситуации</p>\r\n        </b-col>\r\n        <b-col class=\"ps-0 pe-0 d-flex justify-content-sm-end align-items-center\">\r\n          <div>\r\n            <p class=\"pe-2\">Отобразить на дату:</p>\r\n          </div>\r\n          <div class=\"\">\r\n            <b-form-datepicker\r\n                id=\"datepicker\"\r\n                v-model=\"myDate\"\r\n                class=\"mb-2 border border-primary datepicker-primary\"\r\n                locale=\"ru\">\r\n            </b-form-datepicker>\r\n          </div>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row class=\"pt-5 pb-2\">\r\n        Наименование ситуации\r\n      </b-row>\r\n\r\n      <b-row class=\"\">\r\n        <b-form-select\r\n            class=\"border border-primary form-select\"\r\n            v-model=\"selected\"\r\n            :options=\"situations\"\r\n            :@change=\"selectSituation()\">\r\n          <option disabled value=\"\">Выберите ситуацию</option>\r\n        </b-form-select>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col class=\"ps-0 pe-0 pt-5\">\r\n          <button type=\"button\" class=\"btn btn-lg btn-cr\" @click=\"$router.push('/add')\">\r\n            + Создать ситуацию\r\n          </button>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row class=\"pt-5\">\r\n        <strong class=\"fs-2 fw-bold ps-0 pe-0\">\r\n          {{this.showedSituation.name}}\r\n        </strong>\r\n      </b-row>\r\n\r\n      <b-row class=\"pt-5\">\r\n        <div class=\"ps-0 pe-0\">\r\n          <b-button\r\n              :class=\"[currentMode ? 'active' : '']\"\r\n              @click=\"toggle\"\r\n              variant=\"primary\"\r\n              class=\"btn btn-lg btn-cr me-2\">Последствия\r\n          </b-button>\r\n\r\n          <b-button\r\n              :class=\"[!currentMode ? 'active' : '']\"\r\n              @click=\"toggle\"\r\n              variant=\"primary\"\r\n              class=\"btn btn-lg btn-cr\">Факторы\r\n          </b-button>\r\n        </div>\r\n      </b-row>\r\n\r\n      <b-row class=\"pt-5\">\r\n        <template v-if=\"currentMode\">\r\n          <b-table class=\"ps-0 pe-0 table table-bordered\"\r\n                   hover\r\n                   head-row-variant=\"primary\"\r\n                   responsive\r\n                   :items=\"showedSituation.consequencesIndicators\"\r\n                   :fields=\"fields\">\r\n            <template #cell(№)=\"data\">\r\n              {{ data.index + 1 }}\r\n            </template>\r\n            <template #cell(factorName)=\"data\">\r\n              <p @change=\"()=>sortedUniq(showedSituation.consequencesIndicators)\">{{data.item.factorName}}</p>\r\n            </template>\r\n          </b-table>\r\n        </template>\r\n\r\n        <template v-else>\r\n          <b-table class=\"ps-0 pe-0 table-bordered\"\r\n                   hover\r\n                   responsive\r\n                   head-row-variant=\"primary\"\r\n                   :items=\"showedSituation.factorsIndicators\"\r\n                   :fields=\"fields\">\r\n            <template #cell(№)=\"data\">\r\n              {{ data.index + 1 }}\r\n            </template>\r\n          </b-table>\r\n        </template>\r\n      </b-row>\r\n\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash';\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\nimport situationsList from '../json/situationsList.json'\r\nimport situation13 from '../json/situation-13.json'\r\nimport situation14 from '../json/situation-14.json'\r\nimport situation8 from '../json/situation-8.json'\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n      situations: situationsList.items,\r\n      selected: '',\r\n      selectedSituation: '',\r\n      showedSituation:'',\r\n      situation13: situation13,\r\n      situation14: situation14,\r\n      situation8: situation8,\r\n      myDate: new Date().toISOString(),\r\n      currentMode: true,\r\n      fields:[\r\n        '№',\r\n        {\r\n          key: '',\r\n          label: '№',\r\n        },\r\n        {\r\n          key: 'factorName',\r\n          label: 'Наименование',\r\n        },\r\n        {\r\n          key: 'indicatorName',\r\n          label: 'Значение',\r\n        },\r\n        {\r\n          key: 'indicatorWeight',\r\n          label: 'Оценка тяжести',\r\n        },\r\n      ],\r\n    }\r\n  },\r\n  methods: {\r\n    selectSituation(){\r\n      this.situations.forEach(element =>\r\n          {\r\n            if(element.value === this.selected)\r\n            {\r\n              switch (this.selected)\r\n              {\r\n                case 8: this.showedSituation = situation8\r\n                  break;\r\n                case 13: this.showedSituation = situation13\r\n                  break;\r\n                case 14: this.showedSituation = situation14\r\n                  break;\r\n              }\r\n            }\r\n          }\r\n      )\r\n    },\r\n    toggle(){\r\n      this.currentMode = !this.currentMode\r\n    },\r\n    sortedUniq(){\r\n      this.showedSituation.consequencesIndicators = _.sortedUniq(this.showedSituation.consequencesIndicators)\r\n    },\r\n  },\r\n  computed:{\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btn-cr{\r\n  background-color: #e8f2fc;\r\n  color: #0378fb;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}